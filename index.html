<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Butterfly ðŸ¦‹</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Poppins',sans-serif;
}

body{
    background:black;
    overflow:hidden;
}

/* CONTAINER */
#container{
    position:relative;
    width:100vw;
    height:100vh;
    overflow:hidden;
}

/* STORIES */
.story{
    position:absolute;
    inset:0;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    color:white;
    transform:translateX(100%);
    transition:transform 0.6s ease;
}

.story.active{
    transform:translateX(0);
    z-index:1;
}

.story.prev{
    transform:translateX(-100%);
}

/* VIDEO & IMAGE */
.story video,
.story img.bg{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    object-fit:cover;
    z-index:-1;
}

/* BACKGROUNDS */
.message-screen{
    background:linear-gradient(135deg,#000000,#1a1a1a);
}

/* TEXT */
h1{
    font-family:'Great Vibes',cursive;
    font-size:3.2rem;
    text-shadow:0 0 25px black;
}

.message{
    max-width:85%;
    margin-top:20px;
    line-height:1.8;
    font-size:1.1rem;
    text-shadow:0 0 15px black;
}

/* TAP AREAS */
.tap{
    position:absolute;
    top:0;
    width:50%;
    height:100%;
    z-index:10;
}
.tap.left{ left:0; }
.tap.right{ right:0; }
</style>
</head>

<body>

<div id="container">

    <!-- INTRO VIDEO -->
    <div class="story active">
        <video src="intro.mp4.mp4" muted playsinline></video>
        <h1>Happy Birthday ðŸ¦‹</h1>
        <div class="message">
            To my beautiful Butterfly ðŸ’—
        </div>
    </div>

    <!-- MESSAGE -->
    <div class="story message-screen">
        <h1>My Love ðŸ’•</h1>
        <div class="message">
            I donâ€™t just love youâ€¦<br>
            I choose you every single day.<br>
            With you, forever feels short âœ¨
        </div>
    </div>

    <!-- HER PHOTO -->
    <div class="story">
        <img src="herphoto.jpg.JPG" class="bg">
        <h1>Forever Yours ðŸ’™</h1>
        <div class="message">
            Happy Birthday, my forever ðŸ¦‹ðŸŽ‚
        </div>
    </div>

    <div class="tap left"></div>
    <div class="tap right"></div>
</div>

<!-- BACKGROUND MUSIC -->
<audio id="music" src="music.mp3.mp3" loop></audio>

<script>
const stories = document.querySelectorAll(".story");
const music = document.getElementById("music");

let current = 0;
let timer;
let musicStarted = false;
const duration = 4500;

function showStory(index){
    stories.forEach((s,i)=>{
        s.classList.remove("active","prev");
        if(i < index) s.classList.add("prev");

        const video = s.querySelector("video");
        if(video){
            video.pause();
            video.currentTime = 0;
        }
    });

    stories[index].classList.add("active");

    const activeVideo = stories[index].querySelector("video");
    if(activeVideo){
        activeVideo.play().catch(()=>{});
    }

    clearTimeout(timer);
    timer = setTimeout(nextStory, duration);
}

function nextStory(){
    current = (current + 1) % stories.length;
    showStory(current);
}

function prevStory(){
    current = (current - 1 + stories.length) % stories.length;
    showStory(current);
}

/* FIRST TAP STARTS MUSIC (iOS SAFE) */
document.querySelector(".tap.right").addEventListener("click",()=>{
    if(!musicStarted){
        music.volume = 0.6;
        music.play().catch(()=>{});
        musicStarted = true;
    }
    nextStory();
});

document.querySelector(".tap.left").addEventListener("click", prevStory);

showStory(current);
</script>

</body>
</html>
