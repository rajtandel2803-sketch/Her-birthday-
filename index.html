<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Butterfly ðŸ¦‹</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Poppins',sans-serif;
}

body{
    overflow:hidden;
    background:black;
}

/* STORY CONTAINER */
.story-container{
    position:relative;
    width:100vw;
    height:100vh;
}

/* STORY SLIDES */
.story{
    position:absolute;
    width:100%;
    height:100%;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    text-align:center;
    color:white;
    opacity:0;
    transition:opacity 0.5s ease;
}

.story.active{
    opacity:1;
    z-index:1;
}

/* Backgrounds */
.story video,
.story img.bg{
    position:absolute;
    width:100%;
    height:100%;
    object-fit:cover;
    z-index:-1;
}

/* Text Style */
h1{
    font-family:'Great Vibes',cursive;
    font-size:3rem;
    text-shadow:0 0 20px black;
}

.message{
    max-width:80%;
    margin-top:20px;
    line-height:1.6;
}

/* Progress Bars */
.progress{
    position:absolute;
    top:10px;
    left:10px;
    right:10px;
    display:flex;
    gap:5px;
}

.progress div{
    flex:1;
    height:4px;
    background:rgba(255,255,255,0.3);
    overflow:hidden;
}

.progress div span{
    display:block;
    height:100%;
    width:0%;
    background:white;
}

/* Tap Areas */
.tap{
    position:absolute;
    top:0;
    height:100%;
    width:50%;
}

.tap.left{ left:0; }
.tap.right{ right:0; }
</style>
</head>
<body>

<div class="story-container">

<div class="progress">
    <div><span></span></div>
    <div><span></span></div>
    <div><span></span></div>
</div>

<!-- STORY 1 -->
<div class="story active">
    <video autoplay muted loop>
        <source src="intro.mp4.mp4" type="video/mp4">
    </video>
    <h1>For My Butterfly ðŸ¦‹</h1>
</div>

<!-- STORY 2 -->
<div class="story">
    <img src="herphoto.jpg" class="bg">
    <h1>Happy Birthday ðŸ’™</h1>
    <div class="message">
        My sweet Butterfly, you are my calm sky and brightest sunshine.  
        I love you endlessly. ðŸ¦‹âœ¨
    </div>
</div>

<!-- STORY 3 -->
<div class="story">
    <img src="herphoto.jpg" class="bg">
    <h1>Forever Yours ðŸ’™</h1>
</div>

<div class="tap left"></div>
<div class="tap right"></div>

</div>

<audio id="music" src="music.mp3"></audio>

<script>
const stories = document.querySelectorAll(".story");
const progressBars = document.querySelectorAll(".progress div span");
const leftTap = document.querySelector(".tap.left");
const rightTap = document.querySelector(".tap.right");
const music = document.getElementById("music");

let current = 0;
let duration = 5000;
let timer;

function showStory(index){
    stories.forEach(s => s.classList.remove("active"));
    stories[index].classList.add("active");

    progressBars.forEach(bar => bar.style.width="0%");
    animateProgress(index);

    if(index === 0){
        music.play().catch(()=>{});
    }
}

function animateProgress(index){
    let width = 0;
    clearInterval(timer);
    timer = setInterval(()=>{
        width += 1;
        progressBars[index].style.width = width + "%";
        if(width >= 100){
            clearInterval(timer);
            nextStory();
        }
    }, duration/100);
}

function nextStory(){
    current++;
    if(current >= stories.length) current = 0;
    showStory(current);
}

function prevStory(){
    current--;
    if(current < 0) current = stories.length-1;
    showStory(current);
}

rightTap.addEventListener("click", nextStory);
leftTap.addEventListener("click", prevStory);

showStory(current);
</script>

</body>
</html>
