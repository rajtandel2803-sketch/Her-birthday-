<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Butterfly ðŸ¦‹</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Poppins',sans-serif;
}

body{
    background:black;
    overflow:hidden;
}

/* CONTAINER */
.story-container{
    position:relative;
    width:100vw;
    height:100vh;
    overflow:hidden;
}

/* STORIES */
.story{
    position:absolute;
    inset:0;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    color:white;
    transform:translateX(100%);
    transition:transform 0.6s ease;
}

.story.active{
    transform:translateX(0);
    z-index:1;
}

.story.prev{
    transform:translateX(-100%);
}

/* BACKGROUND */
.story video,
.story img.bg{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    object-fit:cover;
    z-index:-1;
}

/* TEXT */
h1{
    font-family:'Great Vibes',cursive;
    font-size:3.2rem;
    text-shadow:0 0 25px black;
}

.message{
    max-width:85%;
    margin-top:20px;
    line-height:1.8;
    font-size:1.05rem;
    text-shadow:0 0 10px black;
}

/* PROGRESS */
.progress{
    position:absolute;
    top:10px;
    left:10px;
    right:10px;
    display:flex;
    gap:5px;
    z-index:10;
}

.progress div{
    flex:1;
    height:4px;
    background:rgba(255,255,255,0.3);
}

.progress span{
    display:block;
    height:100%;
    width:0%;
    background:white;
}

/* TAP */
.tap{
    position:absolute;
    top:0;
    width:50%;
    height:100%;
    z-index:20;
}
.tap.left{left:0;}
.tap.right{right:0;}

/* CONFETTI */
.confetti{
    position:absolute;
    width:8px;
    height:8px;
    background:randomColor;
    top:-10px;
    animation:fall linear infinite;
}

@keyframes fall{
    to{
        transform:translateY(110vh) rotate(360deg);
    }
}
</style>
</head>

<body>

<div class="story-container" id="container">

<div class="progress">
    <div><span></span></div>
    <div><span></span></div>
    <div><span></span></div>
</div>

<!-- STORY 1 -->
<div class="story active">
    <video muted playsinline>
        <source src="intro.mp4.mp4" type="video/mp4">
    </video>
    <h1>For My Butterfly ðŸ¦‹</h1>
    <div class="message">
        Today isnâ€™t just your birthdayâ€¦  
        itâ€™s the day the world became more beautiful ðŸ’™
    </div>
</div>

<!-- STORY 2 -->
<div class="story">
    <img src="herphoto.jpg.JPG" class="bg">
    <h1>Happy Birthday ðŸ’™</h1>
    <div class="message">
        My pretty Butterfly,<br>
        you make my heart smile in ways words canâ€™t explain.<br>
        With you, every moment feels magical âœ¨ðŸ¦‹
    </div>
</div>

<!-- STORY 3 -->
<div class="story">
    <img src="herphoto.jpg" class="bg">
    <h1>Forever Yours ðŸ’™</h1>
    <div class="message">
        I donâ€™t just love youâ€¦<br>
        I choose you, today and always ðŸ’•<br>
        Happy Birthday, my forever ðŸ¦‹ðŸŽ‚
    </div>
</div>

<div class="tap left"></div>
<div class="tap right"></div>

</div>

<audio id="music" src="music.mp3" loop></audio>

<script>
const stories = document.querySelectorAll(".story");
const bars = document.querySelectorAll(".progress span");
const music = document.getElementById("music");
const container = document.getElementById("container");

let current = 0;
let duration = 5000;
let timer;
let musicStarted = false;

/* SHOW STORY */
function showStory(index){
    stories.forEach((s,i)=>{
        s.classList.remove("active","prev");
        if(i < index) s.classList.add("prev");

        const v = s.querySelector("video");
        if(v){ v.pause(); v.currentTime = 0; }

        bars[i].style.width = "0%";
    });

    stories[index].classList.add("active");

    const activeVideo = stories[index].querySelector("video");
    if(activeVideo) activeVideo.play().catch(()=>{});

    startProgress(index);

    if(index === 1){
        launchConfetti();
    }
}

/* PROGRESS */
function startProgress(index){
    let w = 0;
    clearInterval(timer);
    timer = setInterval(()=>{
        w++;
        bars[index].style.width = w + "%";
        if(w >= 100){
            clearInterval(timer);
            nextStory();
        }
    }, duration/100);
}

function nextStory(){
    current = (current + 1) % stories.length;
    showStory(current);
}

function prevStory(){
    current = (current - 1 + stories.length) % stories.length;
    showStory(current);
}

/* CONFETTI */
function launchConfetti(){
    for(let i=0;i<40;i++){
        const conf = document.createElement("div");
        conf.className = "confetti";
        conf.style.left = Math.random()*100 + "vw";
        conf.style.background = `hsl(${Math.random()*360},100%,50%)`;
        conf.style.animationDuration = (2+Math.random()*3)+"s";
        container.appendChild(conf);
        setTimeout(()=>conf.remove(),5000);
    }
}

/* TAPS */
document.querySelector(".tap.right").addEventListener("click",()=>{
    if(!musicStarted){
        music.play().catch(()=>{});
        musicStarted = true;
    }
    nextStory();
});

document.querySelector(".tap.left").addEventListener("click",prevStory);

showStory(current);
</script>

</body>
</html>
